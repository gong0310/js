<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
    <style>
      #e {
        width: 100px;
        height: 100px;
        background: red;
        position: absolute;
        left: 0;
        top: 0;
        zoom: 1;
      }
    </style>
  </head>
  <body>
    <div id="e"></div>
    <script>
      var e = document.getElementById("e");
      var flag = true;
      var left = 0;

      function render() {
        if (flag == true) {
          if (left >= 100) {
            flag = false;
          }
          e.style.left = ` ${(left++)}px`;
        } else {
          if (left <= 0) {
            flag = true;
          }
          e.style.left = ` ${(left--)}px`;
        }
      }
      //setInterval效果
      // setInterval(function(){
      //     render()
      // },1000/60)

      //requestAnimationFrame效果

      (function animloop() {
        render();
        rafId = requestAnimationFrame(animloop);
        //如果left等于50 停止动画
        // if(left == 50){
        //     cancelAnimationFrame(rafId)
        // }
    })();
    // setInterval 时间可以自定义;requestAnimationFrame是屏幕刷新频率来决定的，更丝滑、流畅

    // 节省了CPU开销：切换到其他页面时，定时器还是存在于内存当中；而requestAnimationFrameh会暂停渲染，页面被激活时动画继续执行
    </script>
  </body>
</html>
